# Reference: <https://postmarketos.org/devicepkg>
# Maintainer: Jenneron <jenneron@protonmail.com>
pkgname=device-lenovo-yoga-5g
pkgdesc="Lenovo Yoga 5G"
pkgver=2
pkgrel=0
url="https://postmarketos.org"
license="MIT"
arch="aarch64"
options="!check !archcheck"
depends="
	linux-postmarketos-qcom-sc8180x
	postmarketos-base
	soc-qcom-sc8180x
	systemd-boot
"
makedepends="devicepkg-dev"
source="deviceinfo modules-initfs"
subpackages="$pkgname-nonfree-firmware:nonfree_firmware"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	devicepkg_package $startdir $pkgname
}

nonfree_firmware() {
	pkgdesc="WiFi firmware"
	depends="firmware-lenovo-yoga-5g linux-firmware-ath10k soc-qcom-sc8180x-nonfree-firmware"
	mkdir "$subpkgdir"
}


sha512sums="
1e5b4af16ebd8bfd383df43ee8b31567f2cb32be7f26e283ee8f7a176f938aafe13aee8a0c2390662fde43ffdef584126cd8b6836368a86c6c3aafcc01ff5ce8  deviceinfo
a78aab94f673cb68a194d914fa0209366af4bfd6c610a1b923efb3fbc62efb34605d24b23f51b49ee1564975a32ef29c51f986ff63490dd604dd4869bbeadbbd  modules-initfs
"
